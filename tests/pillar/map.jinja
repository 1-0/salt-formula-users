{% set users = salt['grains.filter_by']({
    'Debian': {
        'user_present': 'canonical',
        'user_home': r'/home/canonical',
        'user_uid': 4000,
        'user_gid': 4000,
        'groups': [
                'canonical',
                'sudoers',
        ],
        'user_absent': 'redhat',
        'sshkey_source': r'salt://ubuntu.pem',
    },
    'RedHat': {
        'user_present': 'redhat',
        'user_home': r'/home/redhat',
        'user_uid': 4000,
        'user_gid': 4000,
        'groups': [
                'redhat',
                'sudoers',
        ],
        'user_absent': 'canonical',
        'sshkey_source': r'salt://centos.pem',
}, merge=salt['pillar.get']('users:lookup')) %}
